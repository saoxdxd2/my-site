import{hash as e}from"file://C:/Users/sao/Documents/my-site/node_modules/ohash/dist/index.mjs";import{defineComponent as s,useSlots as o,h as t,toRefs as i,computed as r,watch as d,useSSRContext as m}from"file://C:/Users/sao/Documents/my-site/node_modules/vue/index.mjs";import{f as n}from"./asyncData-B7xdkuq0.mjs";import{O as u}from"./query-Dj9UOrgE.mjs";import{b as l}from"./server.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/perfect-debounce/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/ufo/dist/index.mjs";import"./preview-C8Om5VAN.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/h3/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/destr/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/ohash/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/klona/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/ofetch/dist/node.mjs";import"../_/nitro.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unified/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-parse/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-rehype/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-mdc/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/defu/dist/defu.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-gfm/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-external-links/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-sort-attribute-values/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-sort-attributes/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-raw/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/detab/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/scule/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/micromark-util-sanitize-uri/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/hast-util-to-string/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/github-slugger/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/hookable/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/node-mock-http/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/radix3/dist/index.mjs";import"node:fs";import"node:url";import"file://C:/Users/sao/Documents/my-site/node_modules/pathe/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/drivers/fs.mjs";import"file:///C:/Users/sao/Documents/my-site/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/drivers/fs-lite.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/nitropack/node_modules/ohash/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unctx/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/vue-router/dist/vue-router.node.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/vue/server-renderer/index.mjs";import"../_/renderer.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/vue-bundle-renderer/dist/runtime.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unhead/dist/server.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/devalue/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/unhead/dist/plugins.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unhead/dist/utils.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/pathe/dist/index.mjs";const a=s({name:"ContentQuery",props:{path:{type:String,required:!1,default:void 0},only:{type:Array,required:!1,default:void 0},without:{type:Array,required:!1,default:void 0},where:{type:Object,required:!1,default:void 0},sort:{type:Object,required:!1,default:void 0},limit:{type:Number,required:!1,default:void 0},skip:{type:Number,required:!1,default:void 0},locale:{type:String,required:!1,default:void 0},find:{type:String,required:!1,default:void 0}},async setup(s){const{path:o,only:t,without:m,where:a,sort:p,limit:f,skip:y,locale:c,find:v}=i(s),h=r(()=>{var e;return null==(e=o.value)?void 0:e.includes("/_")}),_=!l().public.content.experimental.advanceQuery;d(()=>s,()=>C(),{deep:!0});const x=e=>_?(null==e?void 0:e.surround)?e.surround:(null==e?void 0:e._id)||Array.isArray(e)?e:null==e?void 0:e.result:e.result,{data:j,refresh:C}=await n(`content-query-${e(s)}`,()=>{let e;return e=o.value?u(o.value):u(),t.value&&(e=e.only(t.value)),m.value&&(e=e.without(m.value)),a.value&&(e=e.where(a.value)),p.value&&(e=e.sort(p.value)),f.value&&(e=e.limit(f.value)),y.value&&(e=e.skip(y.value)),c.value&&(e=e.where({_locale:c.value})),"one"===v.value?e.findOne().then(x):"surround"===v.value&&o.value?_?e.findSurround(o.value):e.withSurround(o.value).findOne().then(x):e.find().then(x)});return{isPartial:h,data:j,refresh:C}},render(e){var s;const i=o(),{data:r,refresh:d,isPartial:m,path:n,only:u,without:l,where:a,sort:p,limit:f,skip:y,locale:c,find:v}=e,h={path:n,only:u,without:l,where:a,sort:p,limit:f,skip:y,locale:c,find:v};if("one"===h.find){if(!r&&(null==i?void 0:i["not-found"]))return i["not-found"]({props:h,...this.$attrs});if((null==i?void 0:i.empty)&&"markdown"===(null==r?void 0:r._type)&&!(null==(s=null==r?void 0:r.body)?void 0:s.children.length))return i.empty({props:h,...this.$attrs})}else if((!r||!r.length)&&(null==i?void 0:i["not-found"]))return i["not-found"]({props:h,...this.$attrs});return(null==i?void 0:i.default)?i.default({data:r,refresh:d,isPartial:m,props:h,...this.$attrs}):(_={data:r,props:h,isPartial:m},t("pre",null,JSON.stringify({message:"You should use slots with <ContentQuery>!",slot:"default",data:_},null,2)));var _}}),p=a.setup;a.setup=(e,s)=>{const o=m();return(o.modules||(o.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentQuery.vue"),p?p(e,s):void 0};export{a as default};
//# sourceMappingURL=ContentQuery-DsWfmzyM.mjs.map
