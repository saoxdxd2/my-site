import{ref as e}from"file://C:/Users/sao/Documents/my-site/node_modules/vue/index.mjs";import{parse as o}from"file://C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import{getRequestHeader as s,setCookie as i,getCookie as n,deleteCookie as t}from"file://C:/Users/sao/Documents/my-site/node_modules/h3/dist/index.mjs";import r from"file://C:/Users/sao/Documents/my-site/node_modules/destr/dist/index.mjs";import{isEqual as m}from"file://C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/ohash/dist/index.mjs";import{klona as d}from"file://C:/Users/sao/Documents/my-site/node_modules/klona/dist/index.mjs";import{c as u,g as c,e as a}from"./server.mjs";const p={path:"/",watch:!0,decode:e=>r(decodeURIComponent(e)),encode:e=>encodeURIComponent("string"==typeof e?e:JSON.stringify(e))};function l(r,u){var f,k;const x={...p,...u};null!=x.filter||(x.filter=e=>e===r);const y=function(e={}){return o(s(c(),"cookie")||"",e)}(x)||{};let _;void 0!==x.maxAge?_=1e3*x.maxAge:x.expires&&(_=x.expires.getTime()-Date.now());const w=d(void 0!==_&&_<=0?void 0:null!=(k=y[r])?k:null==(f=x.default)?void 0:f.call(x)),h=e(w);{const e=a(),o2=()=>{x.readonly||m(h.value,y[r])||(e._cookies||(e._cookies={}),r in e._cookies&&m(h.value,e._cookies[r])||(e._cookies[r]=h.value,function(e,o,s,r={}){if(e){if(null!=s)return i(e,o,s,r);void 0!==n(e,o)&&t(e,o,r)}}(c(e),r,h.value,x)))},o=e.hooks.hookOnce("app:rendered",o2);e.hooks.hookOnce("app:error",()=>(o(),o2()))}return h}const v=()=>({isEnabled:()=>{const e=u().query;return!(Object.prototype.hasOwnProperty.call(e,"preview")&&!e.preview||!e.preview&&!l("previewToken").value)},getPreviewToken:()=>l("previewToken").value||void 0,setPreviewToken:e=>{l("previewToken").value=e,u().query.preview=e||""}});export{v};
//# sourceMappingURL=preview-C8Om5VAN.mjs.map
