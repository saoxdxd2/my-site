import{a as e}from"./path-meta.mjs";import{a as s}from"./nitro.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/scule/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/slugify/slugify.js";import"file://C:/Users/sao/Documents/my-site/node_modules/ufo/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/h3/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unified/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-parse/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-rehype/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-mdc/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/defu/dist/defu.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-gfm/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-external-links/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-sort-attribute-values/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-sort-attributes/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-raw/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/detab/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/micromark-util-sanitize-uri/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/hast-util-to-string/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/github-slugger/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/destr/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/hookable/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/ofetch/dist/node.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/node-mock-http/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/klona/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/radix3/dist/index.mjs";import"node:fs";import"node:url";import"file://C:/Users/sao/Documents/my-site/node_modules/pathe/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/drivers/fs.mjs";import"file:///C:/Users/sao/Documents/my-site/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/drivers/fs-lite.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/nitropack/node_modules/ohash/dist/index.mjs";function createNav(i,t){const{navigation:o}=s().public.content;if(!1===o)return[];const pickNavigationFields=e=>{return{...(i=["title",...o.fields],e=>(e=e||{},i&&i.length?i.filter(s=>void 0!==e[s]).reduce((s,i)=>Object.assign(s,{[i]:e[i]}),{}):e))(e),...(s=e?.navigation,"[object Object]"===Object.prototype.toString.call(s)?e.navigation:{})};var s,i};return sortAndClear(i.sort((e,s)=>e._path.localeCompare(s._path)).reduce((s,i)=>{const o=i._path.substring(1).split("/"),n=i._id.split(":").slice(1),m=!!n[n.length-1]?.match(/([1-9][0-9]*\.)?index.md/g),getNavItem=e=>({title:e.title,_path:e._path,_file:e._file,children:[],...pickNavigationFields(e),...e._draft?{_draft:!0}:{}}),r=getNavItem(i);if(m){const e=t[r._path];if(void 0!==e?.navigation&&!e?.navigation)return s;if("/"!==i._path){const e=getNavItem(i);r.children.push(e)}e&&Object.assign(r,pickNavigationFields(e))}if(1===o.length)return s.push(r),s;return o.slice(0,-1).reduce((s,n,m)=>{const r="/"+o.slice(0,m+1).join("/"),d=t[r];if(void 0!==d?.navigation&&!d.navigation)return[];let l=s.find(e=>e._path===r);return l||(l={title:e(n),_path:r,_file:i._file,children:[],...d&&pickNavigationFields(d)},s.push(l)),l.children},s).push(r),s},[]))}const i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function sortAndClear(e){e.forEach(e=>{e._file=e._file.split(".").slice(0,-1).join(".")});const s=e.sort((e,s)=>i.compare(e._file,s._file));for(const e of s)e.children?.length?sortAndClear(e.children):delete e.children,delete e._file;return e}export{createNav};
//# sourceMappingURL=navigation.mjs.map
