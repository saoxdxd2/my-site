import{defineEventHandler as e,setHeader as s}from"file://C:/Users/sao/Documents/my-site/node_modules/h3/dist/index.mjs";import{a as o}from"../../_/nitro.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/ufo/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unified/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-parse/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-rehype/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-mdc/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/defu/dist/defu.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/remark-gfm/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-external-links/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-sort-attribute-values/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-sort-attributes/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/rehype-raw/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/detab/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/scule/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/micromark-util-sanitize-uri/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/hast-util-to-string/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/github-slugger/index.js";import"file://C:/Users/sao/Documents/my-site/node_modules/destr/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/hookable/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/ofetch/dist/node.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/node-mock-http/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/klona/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/radix3/dist/index.mjs";import"node:fs";import"node:url";import"file://C:/Users/sao/Documents/my-site/node_modules/pathe/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/dist/index.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/drivers/fs.mjs";import"file:///C:/Users/sao/Documents/my-site/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js";import"file://C:/Users/sao/Documents/my-site/node_modules/unstorage/drivers/fs-lite.mjs";import"file://C:/Users/sao/Documents/my-site/node_modules/nitropack/node_modules/ohash/dist/index.mjs";const t=e(async e=>{const t=o().public.siteUrl||"https://example.com";let i=[];try{const{data:e}=await $fetch("/api/_content/query",{params:{where:{_path:{$regex:"^/blog"},_draft:!1},sort:{date:-1}}});i=e||[]}catch(e){console.warn("Could not fetch blog posts for sitemap:",e)}const r=`<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n${[{url:"/",priority:"1.0",changefreq:"weekly"},{url:"/about",priority:"0.8",changefreq:"monthly"},{url:"/services",priority:"0.8",changefreq:"monthly"},{url:"/portfolio",priority:"0.8",changefreq:"weekly"},{url:"/blog",priority:"0.9",changefreq:"daily"},{url:"/contact",priority:"0.7",changefreq:"monthly"}].map(e=>`  <url>\n    <loc>${t}${e.url}</loc>\n    <lastmod>${(new Date).toISOString()}</lastmod>\n    <changefreq>${e.changefreq}</changefreq>\n    <priority>${e.priority}</priority>\n  </url>`).join("\n")}\n${i.map(e=>`  <url>\n    <loc>${t}${e._path}</loc>\n    <lastmod>${e.updatedAt||e.createdAt||(new Date).toISOString()}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.6</priority>\n  </url>`).join("\n")}\n</urlset>`;return s(e,"Content-Type","application/xml"),s(e,"Cache-Control","public, max-age=3600"),r});export{t as default};
//# sourceMappingURL=sitemap.xml.get.mjs.map
