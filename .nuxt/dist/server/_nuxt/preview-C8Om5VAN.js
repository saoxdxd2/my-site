import{ref as e}from"vue";import{parse as o}from"C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import{getRequestHeader as s,setCookie as n,getCookie as t,deleteCookie as i}from"C:/Users/sao/Documents/my-site/node_modules/h3/dist/index.mjs";import r from"C:/Users/sao/Documents/my-site/node_modules/destr/dist/index.mjs";import{isEqual as m}from"C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/ohash/dist/index.mjs";import{klona as d}from"C:/Users/sao/Documents/my-site/node_modules/klona/dist/index.mjs";import{e as u,g as c,c as a}from"../server.mjs";const p={path:"/",watch:!0,decode:e=>r(decodeURIComponent(e)),encode:e=>encodeURIComponent("string"==typeof e?e:JSON.stringify(e))};function l(r,a){const l={...p,...a};l.filter??=e=>e===r;const v=function(e={}){return o(s(c(),"cookie")||"",e)}(l)||{};let f;void 0!==l.maxAge?f=1e3*l.maxAge:l.expires&&(f=l.expires.getTime()-Date.now());const k=d(void 0!==f&&f<=0?void 0:v[r]??l.default?.()),w=e(k);{const e=u(),o=()=>{l.readonly||m(w.value,v[r])||(e._cookies||={},r in e._cookies&&m(w.value,e._cookies[r])||(e._cookies[r]=w.value,function(e,o,s,r={}){if(e){if(null!=s)return n(e,o,s,r);if(void 0!==t(e,o))i(e,o,r)}}(c(e),r,w.value,l)))},s=e.hooks.hookOnce("app:rendered",o);e.hooks.hookOnce("app:error",()=>(s(),o()))}return w}const v=()=>({isEnabled:()=>{const e=a().query;return!(Object.prototype.hasOwnProperty.call(e,"preview")&&!e.preview)&&!(!e.preview&&!l("previewToken").value)},getPreviewToken:()=>l("previewToken").value||void 0,setPreviewToken:e=>{l("previewToken").value=e,a().query.preview=e||""}});export{v as u};
//# sourceMappingURL=preview-C8Om5VAN.js.map
