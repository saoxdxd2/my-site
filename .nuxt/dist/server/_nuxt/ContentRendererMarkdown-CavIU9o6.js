import{defineComponent as e,h as t,getCurrentInstance as n,toRaw as o,computed as r,reactive as s,watch as a,resolveComponent as u,defineAsyncComponent as i,Text as d,Comment as c,useSSRContext as p,mergeProps as m,unref as l}from"vue";import f from"C:/Users/sao/Documents/my-site/node_modules/destr/dist/index.mjs";import{pascalCase as y,kebabCase as b}from"scule";import{find as v,html as g}from"property-information";import{f as h}from"./node-Co_CclnQ.js";import{ssrRenderComponent as j}from"vue/server-renderer";import{u as _}from"./preview-C8Om5VAN.js";import"C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/cookie-es/dist/index.mjs";import"C:/Users/sao/Documents/my-site/node_modules/h3/dist/index.mjs";import"C:/Users/sao/Documents/my-site/node_modules/nuxt/node_modules/ohash/dist/index.mjs";import"C:/Users/sao/Documents/my-site/node_modules/klona/dist/index.mjs";import"../server.mjs";import"ofetch";import"#internal/nuxt/paths";import"C:/Users/sao/Documents/my-site/node_modules/hookable/dist/index.mjs";import"C:/Users/sao/Documents/my-site/node_modules/unctx/dist/index.mjs";import"vue-router";import"C:/Users/sao/Documents/my-site/node_modules/radix3/dist/index.mjs";import"C:/Users/sao/Documents/my-site/node_modules/defu/dist/defu.mjs";import"C:/Users/sao/Documents/my-site/node_modules/ufo/dist/index.mjs";import"C:/Users/sao/Documents/my-site/node_modules/@unhead/vue/dist/index.mjs";const x=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],D="default",C=/^@|^v-on:/,k=/^:|^v-bind:/,w=/^v-model/,O=["select","textarea","input"],R=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),U=e({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(e){const t=n()?.appContext?.app?.$nuxt,u=t?.$route||t?._route,{mdc:i}=t?.$config?.public||{},d={...i?.components?.prose&&!1!==e.prose?R:{},...i?.components?.map||{},...o(e.data?.mdc?.components||{}),...e.components},c=r(()=>{const t=(e.body?.children||[]).map(e=>e.tag||e.type).filter(e=>!x.includes(e));return Array.from(new Set(t)).sort().join(".")}),p=s({...e.data});return a(()=>e.data,e=>{Object.assign(p,e)}),await async function(e,t){if(!e)return;const n=Array.from(new Set(o(e,t)));function o(e,t){const n=e.tag;if("text"===e.type||"binding"===n||"comment"===e.type)return[];const r=A(e,t.tags),s=[];"root"===e.type||x.includes(r)||s.push(r);for(const a of e.children||[])s.push(...o(a,t));return s}await Promise.all(n.map(async e=>{if(e?.render||e?.ssrRender||e?.__ssrInlineRender)return;const t=M(e);t?.__asyncLoader&&!t.__asyncResolved&&await t.__asyncLoader()}))}(e.body,{tags:d}),{tags:d,contentKey:c,route:u,runtimeData:p,updateRuntimeData:function(e,t){const n=e.split(".").length-1;return e.split(".").reduce((e,o,r)=>r==n&&e?(e[o]=t,e[o]):"object"==typeof e?e[o]:void 0,p)}}},render(e){const{tags:n,tag:o,body:r,data:s,contentKey:a,route:u,unwrap:i,runtimeData:d,updateRuntimeData:c}=e;if(!r)return null;const p={...s,tags:n,$route:u,runtimeData:d,updateRuntimeData:c},m=!1!==o?M(o||p.component?.name||p.component||"div"):void 0;return m?t(m,{...p.component?.props,class:e.class,...this.$attrs,key:a},{default:l}):l?.();function l(){return i?h(S(r,t,p,p).default(),"string"==typeof i?i.split(" "):["*"]):S(r,t,p,p).default()}}});function $(e,t,n,o={}){if("text"===e.type)return t(d,e.value);if("comment"===e.type)return t(c,null,e.value);const r=e.tag,s=A(e,n.tags);if("binding"===e.tag)return function(e,t,n,o={}){const r={...n.runtimeData,...o,$document:n,$doc:n},s=/\.|\[(\d+)\]/,a=e.props?.value.trim().split(s).filter(Boolean),u=a.reduce((e,t)=>{if(e&&t in e)return"function"==typeof e[t]?e[t]():e[t]},r),i=e.props?.defaultValue;return t(d,u??i??"")}(e,t,n,o);const a=M(s);"object"==typeof a&&(a.tag=r);const u=function(e,t){const{tag:n="",props:o={}}=e;return Object.keys(o).reduce(function(e,r){if("__ignoreMap"===r)return e;const s=o[r];if(w.test(r))return function(e,t,n,o,{native:r}){const s=e.match(/^v-model:([^=]+)/)?.[1]||"modelValue",a=r?"onInput":`onUpdate:${s}`;return n[r?"value":s]=q(t,o.runtimeData),n[a]=e=>{o.updateRuntimeData(t,r?e.target?.value:e)},n}(r,s,e,t,{native:O.includes(n)});if("v-bind"===r)return function(e,t,n,o){const r=q(t,o);return n=Object.assign(n,r),n}(0,s,e,t);if(C.test(r))return function(e,t,n,o){return e=e.replace(C,""),n.on=n.on||{},n.on[e]=()=>q(t,o),n}(r,s,e,t);if(k.test(r))return function(e,t,n,o){return e=e.replace(k,""),n[e]=q(t,o),n}(r,s,e,t);const{attribute:a}=v(g,r);return Array.isArray(s)&&s.every(e=>"string"==typeof e)?(e[a]=s.join(" "),e):(e[a]=s,e)},{})}(e,n);return t(a,u,S(e,t,n,{...o,...u}))}function S(e,t,n,o){const r=(e.children||[]).reduce((e,t)=>{if(!function(e){return"template"===e.tag}(t))return e[D].push(t),e;const n=function(e){let t="";for(const n of Object.keys(e.props||{}))if(n.startsWith("#")||n.startsWith("v-slot:")){t=n.split(/[:#]/,2)[1];break}return t||D}(t);return e[n]=e[n]||[],"element"===t.type&&e[n].push(...t.children||[]),e},{[D]:[]}),s=Object.entries(r).reduce((e,[r,s])=>s.length?(e[r]=()=>function(e){const t=[];for(const n of e){const e=t[t.length-1];n.type===d&&e?.type===d?e.children=e.children+n.children:t.push(n)}return t}(s.map(e=>$(e,t,n,o))),e):e,{});return s}const M=e=>{if("string"==typeof e){if(x.includes(e))return e;const t=u(y(e),!1);return e&&"AsyncComponentWrapper"!==t?.name?"string"==typeof t?t:"setup"in t?i(()=>new Promise(e=>e(t))):t:t}return e};function q(e,t){const n=e.split(".").reduce((e,t)=>"object"==typeof e?e[t]:void 0,t);return void 0===n?f(e):n}function A(e,t){const n=e.tag;return n&&void 0===e.props?.__ignoreMap&&(t[n]||t[y(n)]||t[b(e.tag)])||n}const B=U.setup;U.setup=(e,t)=>{const n=p();return(n.modules||(n.modules=new Set)).add("node_modules/@nuxtjs/mdc/dist/runtime/components/MDCRenderer.vue"),B?B(e,t):void 0};const I=e({__name:"ContentRendererMarkdown",__ssrInlineRender:!0,props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})}},setup(e){const t=e,n=_().isEnabled(),o=r(()=>{let e=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(e=t.value.excerpt),e}),s=r(()=>{const{body:e,excerpt:n,...o}=t.value;return{...o,...t.data}}),a=r(()=>({...t.components,...s.value._components||{}}));return(t,r,u,i)=>{r(j(U,m({body:o.value,data:s.value,tag:e.tag,components:a.value,"data-content-id":l(n)?e.value._id:void 0},i),null,u))}}}),W=I.setup;I.setup=(e,t)=>{const n=p();return(n.modules||(n.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentRendererMarkdown.vue"),W?W(e,t):void 0};export{I as default};
//# sourceMappingURL=ContentRendererMarkdown-CavIU9o6.js.map
