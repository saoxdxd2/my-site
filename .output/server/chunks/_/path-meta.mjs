import{E as e,y as t,z as a}from"./nitro.mjs";import s from"slugify";const defineTransformer=e=>e,r=/^(\d+)(\.\d+)*(\.x)?$/,i={name:"path-meta",extensions:[".*"],transform(e,t={}){const{locales:a=[],defaultLocale:s="en",respectPathCase:r=!1}=t,{_source:i,_file:n,_path:l,_extension:o,_basename:p}=(e=>{const[t,...a]=e.split(":"),[,s,r]=a[a.length-1]?.match(/(.*)\.([^.]+)$/)||[];s&&(a[a.length-1]=s);const i=(a||[]).join("/");return{_source:t,_path:i,_extension:r,_file:r?`${i}.${r}`:i,_basename:s||""}})(e._id),c=l.split("/"),_=a.includes(c[0])?c.shift():s,f=generatePath(c.join("/"),{respectPathCase:r});return{_path:f,_dir:f.split("/").slice(-2)[0],_draft:e._draft||e.draft||isDraft(l),_partial:isPartial(l),_locale:_,...e,title:e.title||generateTitle(refineUrlPart(p)),_source:i,_file:n,_stem:l,_extension:o}}},isDraft=e=>!!e.match(/\.draft(\/|\.|$)/),isPartial=e=>e.split(/[:/]/).some(e=>e.match(/^_.*/)),generatePath=(e,{forceLeadingSlash:r=!0,respectPathCase:i=!1}={})=>(e=e.split("/").map(e=>s(refineUrlPart(e),{lower:!i})).join("/"),r?t(a(e)):e),generateTitle=t=>t.split(/[\s-]/g).map(e).join(" ");function refineUrlPart(e){return e=e.split(/[/:]/).pop(),r.test(e)?e:e.replace(/(\d+\.)?(.*)/,"$2").replace(/^index(\.draft)?$/,"").replace(/\.draft$/,"")}export{generateTitle as a,defineTransformer as d,generatePath as g,i as p};
//# sourceMappingURL=path-meta.mjs.map
