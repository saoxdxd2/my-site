import{c as r,u as t,f as e}from"../../_/nitro.mjs";import"unified";import"remark-parse";import"remark-rehype";import"remark-mdc";import"remark-gfm";import"rehype-external-links";import"rehype-sort-attribute-values";import"rehype-sort-attributes";import"rehype-raw";import"detab";import"micromark-util-sanitize-uri";import"hast-util-to-string";import"github-slugger";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"node:path";import"node:crypto";const o=r(async r=>{const o=t().public.siteUrl||"https://example.com";let i=[];try{const{data:r}=await $fetch("/api/_content/query",{params:{where:{_path:{$regex:"^/blog"},_draft:!1},sort:{date:-1}}});i=r||[]}catch(r){console.warn("Could not fetch blog posts for sitemap:",r)}const n=`<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n${[{url:"/",priority:"1.0",changefreq:"weekly"},{url:"/about",priority:"0.8",changefreq:"monthly"},{url:"/services",priority:"0.8",changefreq:"monthly"},{url:"/portfolio",priority:"0.8",changefreq:"weekly"},{url:"/blog",priority:"0.9",changefreq:"daily"},{url:"/contact",priority:"0.7",changefreq:"monthly"}].map(r=>`  <url>\n    <loc>${o}${r.url}</loc>\n    <lastmod>${(new Date).toISOString()}</lastmod>\n    <changefreq>${r.changefreq}</changefreq>\n    <priority>${r.priority}</priority>\n  </url>`).join("\n")}\n${i.map(r=>`  <url>\n    <loc>${o}${r._path}</loc>\n    <lastmod>${r.updatedAt||r.createdAt||(new Date).toISOString()}</lastmod>\n    <changefreq>monthly</changefreq>\n    <priority>0.6</priority>\n  </url>`).join("\n")}\n</urlset>`;return e(r,"Content-Type","application/xml"),e(r,"Cache-Control","public, max-age=3600"),n});export{o as default};
//# sourceMappingURL=sitemap.xml.get.mjs.map
