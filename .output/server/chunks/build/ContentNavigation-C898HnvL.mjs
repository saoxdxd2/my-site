import{defineComponent as t,useSlots as e,h as r,toRefs as o,computed as n,toRef as i,isRef as a,useSSRContext as s}from"vue";import{h as p}from"../_/index.mjs";import{f as u}from"./asyncData-B7xdkuq0.mjs";import{C as m,O as l,x as d,_ as v,v as f,E as c,b as y}from"./query-Dj9UOrgE.mjs";import{v as g}from"./preview-C8Om5VAN.mjs";import{e as h,b as j}from"./server.mjs";import{m as w}from"./nuxt-link-4BWNsQEZ.mjs";import"../_/nitro.mjs";import"unified";import"remark-parse";import"remark-rehype";import"remark-mdc";import"remark-gfm";import"rehype-external-links";import"rehype-sort-attribute-values";import"rehype-sort-attributes";import"rehype-raw";import"detab";import"micromark-util-sanitize-uri";import"hast-util-to-string";import"github-slugger";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:url";import"node:path";import"node:crypto";import"vue-router";import"vue/server-renderer";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const b=t({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(t){const{query:e}=o(t),r=n(()=>{var t;return"function"==typeof(null==(t=e.value)?void 0:t.params)?e.value.params():e.value});if(!r.value&&function(...t){const e="string"==typeof t[t.length-1]?t.pop():void 0;"string"!=typeof t[0]&&t.unshift(e);const[r,o]=t;if(!r||"string"!=typeof r)throw new TypeError("[nuxt] [useState] key must be a string: "+r);if(void 0!==o&&"function"!=typeof o)throw new Error("[nuxt] [useState] init must be a function: "+o);const n="$s"+r,s=h(),p=i(s.payload.state,n);if(void 0===p.value&&o){const t=o();if(a(t))return s.payload.state[n]=t,t;p.value=t}return p}("dd-navigation").value){const{navigation:t}=m();return{navigation:t}}const{data:s}=await u(`content-navigation-${p(r.value)}`,()=>(async t=>{const{content:e}=j().public;"function"!=typeof(null==t?void 0:t.params)&&(t=l(t));const r=t.params(),o=e.experimental.stripQueryParameters?d(`/navigation/${p(r)}.${e.integrity}/${v(r)}.json`):d(`/navigation/${p(r)}.${e.integrity}.json`);f(o),c();const n=await $fetch(o,{method:"GET",responseType:"json",params:e.experimental.stripQueryParameters?void 0:{_params:y(r),previewToken:g().getPreviewToken()}});if("string"==typeof n&&n.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return n})(r.value));return{navigation:s}},render(t){const o=e(),{navigation:n}=t,i2=t=>r(w,{to:t._path},()=>t.title),r2=(t,e)=>r("ul",e?{"data-level":e}:null,t.map(t=>t.children?r("li",null,[i2(t),r2(t.children,e+1)]):r("li",null,i2(t))));return(null==o?void 0:o.default)?o.default({navigation:n,...this.$attrs}):r2(n,0)}}),k=b.setup;b.setup=(t,e)=>{const r=s();return(r.modules||(r.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentNavigation.vue"),k?k(t,e):void 0};export{b as default};
//# sourceMappingURL=ContentNavigation-C898HnvL.mjs.map
